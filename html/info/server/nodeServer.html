<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="Proyecto RETO">

<title>Server</title>

<!-- Bootstrap core CSS -->
				<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
				<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
				<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
				<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>



<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>


<div class="container">
			<div class="blog-header">
				<h1 class="blog-title">Server Node</h1>
				<p class="lead blog-description"></p>
			</div>

			<div class="row">

				<div class="col-sm-8 blog-main">

					<div class="blog-post">
						<h2 class="blog-post-title">Resumen</h2>
<blockquote>
<p>El <b>prototipo</b> del server se puede usar para cualquier aplicación..</p>
<p></p>
<p>Los packages requeridos son:</p>
<ul>
<li>var express = require('express');</li>
<li>var bodyParser = require('body-parser');</li>
<li>var mongoose = require('mongoose');</li>
<li>var methodOverride = require('method-override');</li>
<li>var fs = require('fs');</li>
<li>var util = require('util');</li>
</ul>

<p>Para enrutar peticiones vía mongoose se usan:</p>
<ul>
<li>var models = require('./models/xyz_Model');</li>
<li>var control = require('./controllers/xyz_Controller');</li>
<li>var router = require('./routes/xyz_Routes');</li>
</ul>
</blockquote>

<h2>Creación</h2>
<p>Se puede crear un nuevo server, de la aplicación XYZ, invocando: </p>
<pre><code>cd ~/RETO/;
node apps/XYZ/server/appXYZ.js
</code></pre>
<h2>Controller</h2>
<p>Contenido (abrev.) de xyz_Controller:</p>
<pre><code>// Ejecutar sentencia SQL / Oracle
exports.SQL_Oracle = function(req, res){...}

// Ejecutar sentencia SQL / SQLite
exports.SQL_SQLite = function(req,res){...};

// Obtener md5 de un usuario/password
exports.encriptPWD = function(req,res){...};

//GET Lista de {meta}'s' de las topologias
exports.findAll = function(req, res) {...};

//GET Lista de {meta}'s' por {iam} de las topologias
exports.findMetas = function(req, res) {...};

//GET Lista de {meta}'s' por {iam} && {org} de las topologias
exports.findMetasByOrg = function(req, res) {...};

//GET - Retorna una topologia con un _id especificado
exports.findById = function(req, res) {...};

//POST - Inserta una nueva topologia
exports.add = function(req, res) {...};

//PUT - Update una topologia ya existente
exports.update = function(req, res) {...};

//DELETE - Delete una topologia con un _id especificado
exports.delete = function(req, res) {...};

//DUPLICA - Duplica una topologia con un _id especificado
exports.duplica = function(req, res) {...};
</code></pre>

<h2>Router</h2>
<p>Contenido (abrev.) de xyz_Router:</p>
<pre><code>app.route('/shell/oracle/')
	.post(xyzCtrl.SQL_Oracle);

app.route('/shell/sqlite/')
	.post(xyzCtrl.SQL_SQLite);

app.route('/shell/encript/')
	.post(xyzCtrl.encriptPWD);

app.route('/test') 
	.get(xyzCtrl.findAll)
	.post(xyzCtrl.add);

app.route('/metas/:iam') 
	.get(xyzCtrl.findMetas);

app.route('/metasByOrg/:iam/:org') 
	.get(xyzCtrl.findMetasByOrg);

app.route('/test/:id') 
	.get(xyzCtrl.findById)
	.put(xyzCtrl.update)
	.delete(xyzCtrl.delete);

app.route('/clone/:id') 
	.delete(xyzCtrl.duplica);
</code></pre>


					</div><!-- /.blog-post -->


					<nav>
						<ul class="pager">
							<li><a href="infoRETO.html">pág Info</a></li>
						</ul>
					</nav>

</div><!-- /.blog-main -->

				<div class="col-sm-3 col-sm-offset-1 blog-sidebar">
					<div class="sidebar-module">
				</div><!-- /.blog-sidebar -->

			</div><!-- /.row -->

		</div><!-- /.container -->

			<hr>

			<footer>
				<p>&copy; RETO 2019</p>
				<p>Sé parte del proyecto. Envía un e-mail a: <strong>info@marigold.es</strong></p>
			</footer>
		</div> <!-- /container -->


 </body>
</html>

